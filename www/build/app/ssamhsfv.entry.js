const a=window.App.h;class t{constructor(){this.viewLimit=10}componentWillLoad(){this.componentData&&this.language&&(this.data=this.componentData[this.language],fetch(`${window.apiBase}/datasource/news`).then(a=>a.json()).then(a=>{let t=a.filter(a=>a.languages[this.language].isEnabled);this.news=t}),fetch(`${window.apiBase}/datasource/events`).then(a=>a.json()).then(a=>{let t=a;t=(t=t.filter(a=>a.languages[this.language].startDate&&a.languages[this.language].startDate.length)).map(a=>{let t=a.languages[this.language].startDate.split("-"),e=new Date(t[2],t[1]-1,t[0]);return a.tarihx=e.getTime(),a}),this.events=t.sort(function(a){var t=1;return"-"===a[0]&&(t=-1,a=a.substr(1)),function(e,s){return(e[a]<s[a]?-1:e[a]>s[a]?1:0)*t}}("-tarihx"))}))}loadMore(){this.viewLimit+=10}getStaticText(a){return window.staticTexts[a][this.language]}calculateCalendar(t){if(!t.languages[this.language].startDate)return console.log("event",t.languages[this.language]),null;const e=t.languages[this.language].startDate.split("-"),s=new Date(e[2]+"-"+e[1]+"-"+e[0]);return a("div",{class:"calendar"},a("span",{class:"day"},s.getDate()),a("span",{class:"month"},(a=>"en"===this.language?["Jan","Feb","Mar","April","May","June","July","Aug","Sep","Oct","Nov","Dec"][a]:["Ocak","Şubat","Mart","Nisan","Mayıs","Hzrn","Tem","Ağu","Eyl","Ekim","Kasım","Arlk"][a])(s.getMonth())))}render(){if(this.data)return a("section",{class:"module-460"},a("div",{class:"container module-460-container"},a("div",{class:"module-460-news"},a("div",{class:"module-461"},this.news?this.news.slice(0,this.viewLimit).map(t=>a("div",{class:"module-461-item","data-aos":"fade-up"},a("a",{href:"/"+this.language+"/"+window.newsPath[this.language]+"/"+t.languages[this.language].path,title:t.languages[this.language].title},a("div",{class:"module-461-item-image"},a("img",{src:t.languages[this.language].image,alt:t.languages[this.language].title})),a("div",{class:"module-461-item-text"},a("h3",null,t.languages[this.language].title),a("p",null,t.languages[this.language].shortDescription))))):"",a("div",{class:"module-461-footer","data-aos":"zoom-in"},this.news&&this.news.length<=this.viewLimit?"":a("a",{class:"a-btn white w-icon",href:"javascript:void(0);",onClick:this.loadMore.bind(this),title:""},"Daha fazla görüntüle ",a("span",{class:"d-refresh"}))))),a("div",{class:"module-460-events"},a("section",{class:"module-410 aside","data-aos":"fade-up"},a("div",{class:"module-410-header","data-aos":"fade-up"},a("span",{class:"title"},this.data.eventText)),a("div",{class:"module-410-body"},this.events?this.events.slice(0,9).map(t=>a("a",{href:`/${this.language}/${window.eventDetailPath[this.language]}/${t.languages[this.language].path}`,class:"module-410-body-item",title:t.languages[this.language].title,"data-aos":"fade-up"},this.calculateCalendar(t),a("div",{class:"text"},a("span",{class:"name"},t.languages[this.language].title),a("span",{class:"location"},t.languages[this.language].location)))):""),a("div",{class:"module-410-footer","data-aos":"fade-up"},a("a",{href:`/${this.language}/${window.eventsPath[this.language]}`,title:this.getStaticText("tumEtkinlikler"),class:"link link-primary with-triangle"},this.getStaticText("tumEtkinlikler")))))))}static get is(){return"module-460"}static get properties(){return{componentData:{type:"Any",attr:"component-data"},events:{state:!0},language:{type:String,attr:"language"},news:{state:!0},viewLimit:{state:!0}}}static get style(){return""}}export{t as Module460};