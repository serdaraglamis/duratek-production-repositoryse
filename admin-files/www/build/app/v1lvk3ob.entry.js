const e=window.App.h;class t{constructor(){this.isOpened=!1,this.mobileOpened=!1,this.changeTrigger=!1,this.allCategories=[],this.selectedLanguage="tr",this.menuItems={languages:{tr:[],en:[]}},this.productSectors=[],this.productCategories=[],this.productIdObject={}}componentDidUpdate(){var e=$(".nav-container .nav");$(".nav-container .nav li .sub-button").click(function(t){t.preventDefault(),t.stopImmediatePropagation(),$(this).parent().find("> ul").show(),e.stop().dequeue().animate({"margin-left":"-="+e.width()+"px"},"linear")}),$(".nav-container .nav li.title > .back-button").click(function(t){t.preventDefault(),t.stopImmediatePropagation(),$(this).parent().parent().hide(),e.stop().dequeue().animate({"margin-left":"+="+e.width()+"px"},"linear")})}componentWillLoad(){fetch(`${window.apiBase}/datasource/menu/5b1d012c93b558297ceb8e43`).then(e=>e.json()).then(e=>{this.menuItems=e,this.changeTrigger=!this.changeTrigger}),fetch(`${window.apiBase}/product-categories`).then(e=>e.json()).then(e=>{this.allCategories=e,this.allCategories.forEach(e=>{this.productIdObject[e._id]=e,"hierarchy"===e.languages.tr.path&&(console.log("Yes Hierarchy Found",e),this.mainCategory=e)})})}async calculateCategoryLevels(){this.productSectors=this.calculateProductSectors(),this.productCategories=this.calculateProductCategories(),this.changeTrigger=!this.changeTrigger}calculateProductSectors(){return this.allCategories.filter(e=>!e.parents.length)}calculateProductCategories(){return this.allCategories.filter(e=>1===e.parents.length)}isActiveMenu(e){return!!(this.paths&&this.paths.length>=2&&this.paths[window.rootLevel]===e)}calculateSectorCategories(e){return this.productCategories.filter(t=>t.parents.includes(e))}sortByKey(e,t){return e.sort(function(e,s){var a=e[t],i=s[t];return a<i?-1:a>i?1:0})}render(){return e("div",null,e("nav",{class:"global-nav light","data-aos":"fade"},e("div",{class:"container gn-container"},e("div",{class:"gn-section gn-brand","data-aos":"zoom-out"},e("a",{href:`/${this.language}`,class:"",title:"Duratek"},e("img",{class:"dark",src:"/assets/content/images/base/logo/duratek-logo-tr-dark.svg",alt:"Duratek Epoksi ve Poliüretan Sistemler Logo"}),e("img",{class:"light",src:"/assets/content/images/base/logo/duratek-logo-tr-light.svg",alt:"Duratek Epoksi ve Poliüretan Sistemler Logo"}))),e("div",{class:`gn-section gn-menu ${this.mobileOpened?"show":""}`},this.menuItems.languages[window.selectedLanguage].map(t=>e("div",{class:`gn-menu-item ${this.isActiveMenu(t.path)?"active":""} ${t.isproduct?"has-children":""}`},e("a",t.isproduct?{onClick:()=>this.isOpened=!this.isOpened,class:"gn-menu-item-link","data-target":"products",href:"javascript:void(0);",title:""}:{class:"gn-menu-item-link",href:`/${this.language}/${t.path}`,title:""},t.name)))),e("div",{class:"gn-section gn-options"},"tr"===window.selectedLanguage?e("div",{class:"gn-options-item language"},e("a",{href:"/en",title:""},"EN")):e("div",{class:"gn-options-item language"},e("a",{href:"/tr",title:""},"TR")),e("div",{class:`gn-options-item hamburger ${this.mobileOpened?"active":""}`,onClick:()=>this.mobileOpened=!this.mobileOpened},e("a",{href:"javascript:void(0);",title:""},e("span",{class:"name"},"MENU"),e("div",{class:"lines"},e("span",{class:"line"}),e("span",{class:"line"}),e("span",{class:"line"}))))))),e("div",{id:"products",class:`gn-subnav ${this.isOpened?"show":""}`},e("div",{class:"gn-subnav-backdrop",onClick:()=>this.isOpened=!1}),e("div",{class:"container gn-subnav-container"},e("div",{class:"gn-subnav-header"},e("a",{href:"javascript:void(0);",onClick:()=>this.isOpened=!this.isOpened,title:"",class:"gn-subnav-close"},e("span",{class:"d-cross"}))),e("div",{class:"nav-container"},e("ul",{class:"nav"},this.mainCategory&&this.mainCategory.childs?this.mainCategory.childs.map(e=>this.renderList(e)):"")))))}renderList(t,s=""){if(!this.productIdObject[t.id]||!this.productIdObject[t.id].languages)return!1;const a=this.productIdObject[t.id].languages[this.language];return e("li",{class:`${t.children?"nav-dropdown":""}`},e("a",{href:`/${window.selectedLanguage}/${window.productsPath[window.selectedLanguage]}${s.length?s+"/":"/"}${a.path}`},a.title),e("span",{class:"sub-button"}),t.children?e("ul",null,e("li",{class:"title"},e("span",{class:"back-button"}),e("h3",null,a.title)),t.children.map(e=>this.renderList(e,`${s}/${a.path}`))):"")}static get is(){return"module-800"}static get properties(){return{changeTrigger:{state:!0},isOpened:{state:!0},language:{type:"Any",attr:"language"},mobileOpened:{state:!0},paths:{type:"Any",attr:"paths"}}}static get style(){return".nav-container{margin:15px auto;position:relative;font-family:Helvetica,sans-serif;background-color:#446cb3;overflow-x:hidden;min-height:500px}.nav-container .nav{position:absolute;width:100%;left:0;font-size:1em}.nav-container .nav,.nav-container .nav *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;-webkit-transition:all .3s ease;-moz-transition:.3s all ease;-ms-transition:.3s all ease;-o-transition:.3s all ease;transition:all .3s ease}.nav-container .nav,.nav-container .nav ul{margin:0;padding:0}.nav-container .nav a{text-decoration:none;display:block;padding:10px;color:#fff}.nav-container .nav a:active,.nav-container .nav a:focus,.nav-container .nav a:hover{background-color:#3498db}.nav-container .nav li{margin:0;list-style-type:none;border-bottom:1px solid #fff}.nav-container .nav li ul{display:none}.nav-container .nav li.nav-dropdown{overflow:auto}.nav-container .nav li.nav-dropdown>.sub-button,.nav-container .nav li.nav-dropdown>a{float:left}.nav-container .nav li.nav-dropdown>a{width:85%}.nav-container .nav li.nav-dropdown>.sub-button{cursor:pointer;width:15%;padding:10px;border-left:1px solid #fff;position:relative;display:block}.nav-container .nav li.nav-dropdown>.sub-button:active,.nav-container .nav li.nav-dropdown>.sub-button:focus,.nav-container .nav li.nav-dropdown>.sub-button:hover{background-color:#3498db}.nav-container .nav li.nav-dropdown>.sub-button:before{content:\"\\00a0\"}.nav-container .nav li.nav-dropdown>.sub-button:after{content:\"\";border-left:15px solid #fff;border-top:10px solid transparent;border-bottom:10px solid transparent;width:0;height:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.nav-container .nav li.nav-dropdown>ul{position:absolute;top:0;left:100%;width:100%}.nav-container .nav li.nav-dropdown ul li.title{overflow:auto}.nav-container .nav li.nav-dropdown ul li.title .back-button,.nav-container .nav li.nav-dropdown ul li.title h3{float:left}.nav-container .nav li.nav-dropdown ul li.title .back-button{cursor:pointer;width:15%;border-right:1px solid #fff;position:relative;display:block;padding:15px 10px}.nav-container .nav li.nav-dropdown ul li.title .back-button:active,.nav-container .nav li.nav-dropdown ul li.title .back-button:focus,.nav-container .nav li.nav-dropdown ul li.title .back-button:hover{background-color:#3498db}.nav-container .nav li.nav-dropdown ul li.title .back-button:before{content:\"\\00a0\"}.nav-container .nav li.nav-dropdown ul li.title .back-button:after{content:\"\";border-right:15px solid #fff;border-top:10px solid transparent;border-bottom:10px solid transparent;width:0;height:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.nav-container .nav li.nav-dropdown ul li.title h3{width:85%;margin:0;color:#fff;padding:10px;font-weight:400}"}}export{t as Module800};